一.性能监控基础设施架构：
exporter + prometheus + grafana


二.服务组件的介绍
(1).prometheus的使用
参考：https://www.cnblogs.com/xiao987334176/p/9930517.html
1.配置：
mkdir /opt/prometheus
cd /opt/prometheus/
vim prometheus.yml

global:
  scrape_interval:     60s
  evaluation_interval: 60s

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ['localhost:9090']
        labels:
          instance: prometheus

  - job_name: linux
    static_configs:
      - targets: ['192.168.91.132:9100']
        labels:
          instance: localhost

2.启动服务
docker run  -d -p 9090:9090 -v /opt/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus


(2)Grafana的使用
1. 安装
mkdir /opt/grafana-storage
chmod 777 -R /opt/grafana-storage

2.启动服务
docker run -d -p 3000:3000 --name=grafana -v /opt/grafana-storage:/var/lib/grafana grafana/grafana



(3)exporter: 项目主要在metrics文件夹中:
1.ecs-->node_exporter： 在metrics/ecs_node中着重描述
    1>.采集指标：cpu, 内存, 硬盘大小, 带宽。
    2>.服务处理：源码编译, 将node_exporter作出systemd服务进行托管, 适配x86、 arm。

2.k8s--cce:  在metrics/cce_k8s中详细阐述

3.公网ip---带宽： 该需求现在已经放在node_exporter实现。
